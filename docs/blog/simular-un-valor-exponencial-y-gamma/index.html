




<!DOCTYPE html>
<html>
    <head>
    <title>Sopa de bits</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="A blog about data, information and Tech by Mario Alberich"/>
    <meta name="keywords" content="Statistics, Data, Experimentation, Technology, Data visualization" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/static/css/bootstrap/bootstrap.css"/>
    <link rel="stylesheet" href="/static/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="/static/js/cookiecuttr/cookiecuttr.css"/>
    <link rel="stylesheet" href="/static/css/style.css"/>
    <link rel="stylesheet" href="/static/css/bootstrap/bootstrap.min.css" media="print"/>
    <link rel="stylesheet" href="/static/css/bootstrap/bootstrap-theme.min.css" media="print" />
    </head>
    <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-12 col-sm-3 col-md-2 nopad-l">
          <div class="sidebar-nav-fixed affix hidden-sm">
            <div class="well">
              <div class="row">
                <!-- <div class="col-xs-12">
                  <input class="form-control" type="text" id="search-query" name="q" placeholder="Search in sopadebits.com" data-toggle="popover" autocomplete="off">
                </div> -->
                <div class="col-xs-12 text-center">
                  <a href="https://sopadebits.com"><h1>Sopa de bits</h1></a>
                </div>
                <div class="col-xs-8 col-xs-offset-2 text-center">
                  <a href="https://sopadebits.com">
                    <img src="/static/images/avatar.jpg"
                      class="img img-responsive img-circle"
                      alt="Sopa de bits"
                      title="Sopa de bits" />
                  </a>
                </div>
                <div class="col-sm-10 col-sm-offset-1 hidden-xs text-center">
                  <p>A blog about data, information and Tech by Mario Alberich</p>
                </div>
                <div class="col-sm-12 hidden-xs" rel="icons">
                  
  
    <a target="_new" href="https://linkedin.com/in/marioalberich" alt="LinkedIn" title="LinkedIn">
      <span class="icon fa fa-2x fa-linkedin"></span>
    </a>&nbsp;&nbsp;
  
  
    <a target="_new" href="https://twitter.com/sopadebits" alt="Twitter" title="Twitter">
      <span class="icon fa fa-2x fa-twitter"></span>
    </a>&nbsp;&nbsp;
  
  
  
    <a target="_new" href="https://github.com/malberich" alt="Github profile" title="Github profile">
      <span class="icon fa fa-2x fa-github"></span>
    </a>&nbsp;&nbsp;
  
  
  
    <a target="_new" href="https://marioalberich.com" alt="Portfolio" title="Portfolio">
      <span class="icon fa fa-2x fa-user"></span>
    </a>
  

                </div>
                <div class="col-sm-10 col-sm-offset-1 hidden-xs">
                  
  <!-- render_site_categories -->
  <h3>Categories</h3>
  <div class="row">
    
      <div class="col-xs-2">
        <span class="badge">45</span>
      </div>
      <div class="col-xs-10">
        <a href="/categories/documentacion/">Documentación</a>
      </div>
      <div class="col-xs-2">
        <span class="badge">40</span>
      </div>
      <div class="col-xs-10">
        <a href="/categories/economia/">Economía</a>
      </div>
      <div class="col-xs-2">
        <span class="badge">139</span>
      </div>
      <div class="col-xs-10">
        <a href="/categories/informatica/">Informática</a>
      </div>
      <div class="col-xs-2">
        <span class="badge">82</span>
      </div>
      <div class="col-xs-10">
        <a href="/categories/matematica/">Matemática</a>
      </div>
      <div class="col-xs-2">
        <span class="badge">1</span>
      </div>
      <div class="col-xs-10">
        <a href="/categories/miscelanea/">Miscelánea</a>
      </div>
      <div class="col-xs-2">
        <span class="badge">8</span>
      </div>
      <div class="col-xs-10">
        <a href="/categories/ocio/">Ocio</a>
      </div>
      <div class="col-xs-2">
        <span class="badge">11</span>
      </div>
      <div class="col-xs-10">
        <a href="/categories/personas/">Personas</a>
      </div>
      <div class="col-xs-2">
        <span class="badge">7</span>
      </div>
      <div class="col-xs-10">
        <a href="/categories/sin-categorizar/">Sin categorizar</a>
      </div>
  </div>

                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="jumbotron visible-sm visible-xs">
            <div class="row">
                <div class="col-sm-2 col-sm-offset-0 col-xs-4 col-xs-offset-4 text-center">
                    <a href="https://sopadebits.com">
                        <img src="/static/images/avatar.jpg"
                          class="img img-responsive img-circle"
                          alt="Sopa de bits"
                          title="Sopa de bits" />
                    </a>
                </div>
                <div class="col-sm-10 col-xs-12">
                    <h1 class="hidden-xs"><a href="https://sopadebits.com">Sopa de bits</a></h1>
                    <h1 class="visible-xs text-center"><a href="https://sopadebits.com">Sopa de bits</a></h1>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-10 col-sm-offset-1 col-xs-12 text-center">
                  <p>A blog about data, information and Tech by Mario Alberich</p>
                </div>
                <div class="col-xs-12" rel="icons">
                  
  
    <a target="_new" href="https://linkedin.com/in/marioalberich" alt="LinkedIn" title="LinkedIn">
      <span class="icon fa fa-2x fa-linkedin"></span>
    </a>&nbsp;&nbsp;
  
  
    <a target="_new" href="https://twitter.com/sopadebits" alt="Twitter" title="Twitter">
      <span class="icon fa fa-2x fa-twitter"></span>
    </a>&nbsp;&nbsp;
  
  
  
    <a target="_new" href="https://github.com/malberich" alt="Github profile" title="Github profile">
      <span class="icon fa fa-2x fa-github"></span>
    </a>&nbsp;&nbsp;
  
  
  
    <a target="_new" href="https://marioalberich.com" alt="Portfolio" title="Portfolio">
      <span class="icon fa fa-2x fa-user"></span>
    </a>
  

                </div>
            </div>
        </div>
        <!-- <div
          id="search-results"
          style="background-color: #fff; border: 1px solid black; z-index:125; height: 50%; overflow: scroll; display: none; position:absolute" class="col-xs-12 col-sm-4 col-sm-offset-2">
        </div> -->
        <div class="col-xs-12 col-md-10 col-md-offset-2">
          
  
    
        <h1>Simular un valor exponencial</h1>
        <p>La distribución exponencial es una distribución especialmente importante en estadística. &nbsp;Sirve para modelizar el tiempo que transcurre entre dos eventos independientes, y durante los cuales transcurren, por término medio, el mismo tiempo. También se la reconoce por ser la otra cara de la moneda de los procesos de Poisson, de los que hablaré en otro momento.</p><!--more-->
<p>La <a title="Wikipedia: Exponential Distribution" href="http://en.wikipedia.org/wiki/Exponential_distribution" target="_blank">distribución exponencial</a> es una distribución continua (digámoslo rápido: el tiempo que transcurre entre dos eventos es un número real, con potencialmente infinitos decimales), que se define por la fórmula (vía wikipedia):</p>
<p><a href="http://www.sopadebits.com/wp-content/uploads/2013/08/450b84da3274134a4f8280d8b46067b9.png"><img class="alignnone size-full wp-image-27225" title="450b84da3274134a4f8280d8b46067b9" alt="" src="http://www.sopadebits.com/wp-content/uploads/2013/08/450b84da3274134a4f8280d8b46067b9.png" width="225" height="60" /></a></p>
<p>Esto básicamente quiere decir que la distribución exponencial empieza a operar a partir de cero (los tiempos negativos tampoco tienen sentido aquí), y su forma es:</p>
<p><a href="http://www.sopadebits.com/wp-content/uploads/2013/08/325px-Exponential_pdf.svg_.png"><img class="alignnone size-full wp-image-27226" title="325px-Exponential_pdf.svg" alt="" src="http://www.sopadebits.com/wp-content/uploads/2013/08/325px-Exponential_pdf.svg_.png" width="325" height="260" /></a></p>
<p>Para los diferentes valores, vemos que a medida que el valor de&nbsp;&lambda; aumenta, la función de densidad se hace más <em>picuda</em>, lo cual significa que la probabilidad se concentra en los primeros intervalos de tiempo. En realidad, el valor de&nbsp;&lambda; determina la media y varianza de esta distribución.</p>
<p>Por su lado, la función de distribución (es decir, el acumulado anterior, que se obtiene calculando la integral de la fórmula anterior), es:</p>
<p>&nbsp;</p>
<p><a href="http://www.sopadebits.com/wp-content/uploads/2013/08/500px-Exponential_cdf.svg_.png"><img class="alignnone size-full wp-image-27228" title="500px-Exponential_cdf.svg" alt="" src="http://www.sopadebits.com/wp-content/uploads/2013/08/500px-Exponential_cdf.svg_.png" width="300" height="240" /></a></p>
<p>Y su fórmula:</p>
<p><a href="http://www.sopadebits.com/wp-content/uploads/2013/08/18c52cfeafb321ec4c60be0e917388d7.png"><img class="alignnone size-full wp-image-27229" title="18c52cfeafb321ec4c60be0e917388d7" alt="" src="http://www.sopadebits.com/wp-content/uploads/2013/08/18c52cfeafb321ec4c60be0e917388d7.png" width="252" height="60" /></a></p>
<p>Lo cual puedes comprobar si integras la función anterior.</p>
<h2>Simular el valor a partir de la función de distribución</h2><br />
La función de distribución tiene dos características interesantes para la simulación:</p>
<ul>
<li>El rango de valores de la probabilidad (eje vertical) oscila entre 0 y 1.</li>
<li>Para cada valor entre 0 y 1, sólo hay una correspondencia con el valor a simular.</li><br />
</ul><br />
&iquest;Ves por dónde voy? Con la función de distribución, podemos:</p>
<ul>
<li>Simular un valor <em>u</em> entre cero y uno, utilizando un generador aleatorio (cualquier hoja de cálculo, lenguaje de programación y paquete estadístico tiene esa función).</li>
<li>Obtener el valor de x a partir de <em>u</em>.</li><br />
</ul><br />
En el caso de la distribución exponencial, la fórmula a aplicar sería:</p>
<p>[math]x=\frac{-ln(u)}{\lambda}[/math]</p>
<p>[d3-link]</p>
<p>[/d3-link]</p>
<style type="text/css"><!--<br />
.axis path,<br />
.axis line {<br />
fill: none;<br />
stroke: black;<br />
shape-rendering: crispEdges;<br />
}</p>
<p>.axis text {<br />
font-family: sans-serif;<br />
font-size: 11px;<br />
}<br />
--></style>Puedes ver la forma que tiene un histograma (<a href="http://d3js.org" target="_new">D3.js</a>) al simular 500 valores de una Exponencial (con valor &lambda;=0.5):</p>
<p><input style="display: block;" onclick="javascript:generator();void(0);" type="button" value="Actualiza" /></p>
<p>[d3-source canvas="chart"]<br />
var<br />
svg = null,<br />
bars = null,</p>
<p>generator = function() {<br />
var<br />
lambda = 0.5,</p>
<p>simulations = 500,</p>
<p>barWidth = 9,</p>
<p>barsScale = d3.scale.linear()<br />
.domain([0, 10 / lambda])<br />
.range([0,29]);</p>
<p>barXScale = d3.scale.linear()<br />
.domain([0, 10 / lambda])<br />
.range([0,270]);</p>
<p>var dataset = exponentialGen(lambda, simulations, barsScale),</p>
<p>barYScale = d3.scale.linear()<br />
.domain([0, d3.max(dataset, function(d) { return d;})])<br />
.range([270, 0]),</p>
<p>yAxis = d3.svg.axis()<br />
.scale(barYScale)<br />
.orient("left")<br />
.ticks(5),</p>
<p>xAxis = d3.svg.axis()<br />
.scale(barXScale)<br />
.orient("bottom")<br />
.ticks(4);</p>
<p>if (svg !== null) {<br />
bars = svg.selectAll("rect")<br />
.data(dataset);</p>
<p>bars.enter();<br />
} else {<br />
svg = d3.select(".chart")<br />
.append("svg")<br />
.attr("width", 400)<br />
.attr("height", 300);</p>
<p>bars = svg.selectAll("rect")<br />
.data(dataset)<br />
.enter()<br />
.append("rect");<br />
}</p>
<p>svg.selectAll("g.axis").remove();</p>
<p>svg.append("g")<br />
.attr("class", "axis")<br />
.attr("transform", "translate(30,0)")<br />
.call(yAxis);</p>
<p>svg.append("g")<br />
.attr("class", "axis")<br />
.attr("transform", "translate(30,270)")<br />
.call(xAxis);</p>
<p>bars.attr("x", function(d,i) {<br />
return 32 + i * (barWidth + 1);<br />
})<br />
.attr("y", function(d) {<br />
return 270-d;<br />
})<br />
.attr("width", barWidth)<br />
.attr("height", function(d) {<br />
return d;<br />
})<br />
.attr("fill", "blue");<br />
},</p>
<p>exponentialGen = function(lambda, simulations, barXScale) {<br />
var datum = [];<br />
for(var row = 0; row < 30; row++) {<br />
datum.push(0);<br />
}</p>
<p>for(var i = 0; i < simulations; i++) {<br />
var u = Math.random();<br />
var barNumber = barXScale(-Math.log(u)/lambda);<br />
datum[Math.floor(barNumber)]++;<br />
}<br />
return datum;<br />
};</p>
<p>generator();<br />
[/d3-source]</p>
    


        </div>
        <div class="col-xs-12 col-md-10 col-md-offset-2">
          
        </div>
        <div class="col-xs-12 col-md-offset-2">
          <p class="alert text-center">
            &copy; 2007 and beyond Mario Alberich, licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA</a> unless stated otherwise.
          </p>
        </div>
      </div>
    </div>
    <script type="text/javascript">
    $(document).ready(
      function (){
        $.cookieCuttr();
      }
    );
    </script>
    
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-3459440-1', 'auto');
    ga('send', 'pageview');
  </script>

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap/bootstrap.min.js"></script>
    <script src="/static/js/search.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="/static/js/cookiecuttr/jquery.cookiecuttr.js" type="text/javascript"></script>
    <script src="/static/js/cookiecuttr/js.cookie.js"></script>
  </body>
</html>
