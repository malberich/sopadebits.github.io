---
layout: post
status: publish
published: true
title: "Modelos lineales (regresión lineal) - 2"
author:
  display_name: Mario Alberich
  login: admin
  email: malberich@gmail.com
  url: ''
author_login: admin
author_email: malberich@gmail.com
excerpt: "<p>Con esta segunda parte comento los pasos del proceso de cálculo
  de los errores cuadráticos y la determinación del mejor modelo.</p><!--more-->\r\n<p>Cabe
  decir que lo que explico aquí no debe tomarse al pie de la letra, ya que
  evito entrar en detalles casi imprescindibles (como el cálculo matricial
  y el contraste de hipótesis) para dominar este proceso.</p>\r\n<p>La decisión
  viene tomada porque hay ingente cantidad de documentación disponible sobre
  los detalles de este proceso, y pocos que se centren en cuestiones más pedagógicas.</p>"
wordpress_id: 26824
date: '2009-04-27 00:00:00 +0200'
date_gmt: '2009-04-27 00:00:00 +0200'
categories:
- Matemática
- Informática
tags:
- modelización
- testeo
comments:
- id: 1179
  author: Wilderson Medina
  author_email: wameba7@gmail.com
  author_url: ''
  date: '2012-02-09 00:14:44 +0100'
  date_gmt: '2012-02-08 23:14:44 +0100'
  content: "Hola!!\r\nAndaba buscando conceptos de los modelos lineales y me encontré
    con esta web.\r\nEn el momento estoy tratando de aplicar un regresión logística
    a mis datos de tesis.\r\nEstoy trabajando con Rcmdr, pero se me ha dificultado
    interpretar los datos de os modelos cuando formulo un modelo de interacción
    de variables.\r\nCuando ejecuto un modelo aditivo me surgen valores en los cuales
    algunas co-variables no tienen influencia o efecto estadístico significativo,
    pero cuando aplico interacción entre estas y los factores surgen efectos.\r\nHice
    un curso de estadistica basado en R pero no se como interpretar los datos de interacción
    en Rcmdr.\r\nTe agradecería si pudieses ayudarme a solucionar mi problema.
    Si es así te detallo mejor mi problema y te envío algunos datos
    para que los revisemos.\r\nMuchas gracias!!!"
- id: 22641
  author: Juanjo
  author_email: juanjo151a2@hotmail.com
  author_url: ''
  date: '2015-08-12 19:36:49 +0200'
  date_gmt: '2015-08-12 17:36:49 +0200'
  content: Cuantos datos debo usar para una regresión lineal simple, o como
    puedo evaluarlo mediante una prueba estadística porque solo pude obtener
    4 conjuntos de variables y no se si este correcto
---
<p><br />
<h2>El cuadrado es una superficie, no una distancia</h2></p>
<p>Calculando la raíz cuadrada de cada uno de los valores anteriores tendríamos la suma de distancias (algo así como la desviación estándar de los puntos respecto a la recta).&nbsp; Lo que pasa es que el método de cálculo en los modelos lineales mantiene estas distancias al cuadrado. Un valor algo abstracto. Vamos a sacarle partido.</p></p>
<p>Entendiendo estos valores sólo como números es algo complejo e innecesario.&nbsp; Basta trasladarlo a formas geométricas y la cosa cambia. Elevando un valor X al cuadrado (Si X = 3; X<sup>2</sup> = 3<sup>2</sup> = 3 x 3 = 9), <strong>estamos obteniendo a la vez el área de un cuadrado para el que su lado mide X (un cuadrado cuyos lados miden 3 tiene un área de 9)</strong>.</p></p>
<p>No es casualidad que elevar un valor a la segunda potencia se denomine elevar al cuadrado, como tampoco lo es el hecho que elevar a la tercera potencia se denomine elevar al cubo.</p></p>
<p>Así que al sumar cada uno de los valores cuadrados <strong>obtenemos una especie de</strong> <strong><em>mosaico</em> llamado error cuadrado total</strong> (o error cuadrático total), lo abreviaré como ECT.</p></p>
<p>Si representamos los errores cuadrados anteriores, tenemos un mosaico como el siguiente:</p></p>
<p>Figura: mosaico resultante de los errores cuadrados.</p></p>
<p>Dado que empezamos con la recta Y = 0, los cuadrados de las distancias son:</p></p>
<table style="border: 1px solid #000000; width: 215px; height: 112px;" border="1">
<thead>
<tr style="background-color: #bcbcbd;">
<td style="text-align: center;">X</td></p>
<td style="text-align: center;">Y</td></p>
<td style="text-align: center;">Y<br />recta</td></p>
<td style="text-align: center;">EC</td><br />
</tr><br />
</thead></p>
<tbody>
<tr>
<td style="text-align: right;">1</td></p>
<td style="text-align: right;">3</td></p>
<td style="text-align: right;">0</td></p>
<td style="text-align: right;">9</td><br />
</tr></p>
<tr>
<td style="text-align: right;">-1</td></p>
<td style="text-align: right;">-2</td></p>
<td style="text-align: right;">0</td></p>
<td style="text-align: right;">4</td><br />
</tr></p>
<tr>
<td style="text-align: right;">2</td></p>
<td style="text-align: right;">6</td></p>
<td style="text-align: right;">0</td></p>
<td style="text-align: right;">36</td><br />
</tr></p>
<tr>
<td style="text-align: right;">5</td></p>
<td style="text-align: right;">8</td></p>
<td style="text-align: right;">0</td></p>
<td style="text-align: right;">64</td><br />
</tr></p>
<tr>
<td style="text-align: right;">6</td></p>
<td style="text-align: right;">3</td></p>
<td style="text-align: right;">0</td></p>
<td style="text-align: right;">9</td><br />
</tr></p>
<tr>
<td style="text-align: right;">4</td></p>
<td style="text-align: right;">1</td></p>
<td style="text-align: right;">0</td></p>
<td style="text-align: right;">1</td><br />
</tr></p>
<tr style="background-color: #c0c1b8;">
<td style="text-align: center;">-</td></p>
<td style="text-align: center;">-</td></p>
<td style="text-align: center;">-</td></p>
<td style="text-align: right;"><strong>123</strong></td><br />
</tr><br />
</tbody><br />
</table></p>
<p>Los valores de la columna EC forman este mosaico, que se puede representar de forma equivalente con un rectángulo, siempre que tenga un área idéntica.&nbsp; Con este cambio hemos convertido el mosaico en una baldosa (término acu&ntilde;ado entre varios compa&ntilde;eros de estadística durante largas noches de estudio).</p></p>
<p>Este rectángulo <strong>suma un área de 123</strong>. Para el caso, este valor es divisible por 3 y 41, que podrían ser los lados del rectángulo.&nbsp; Si quieres algo mejor, queda hacer divisiones y tratar con decimales periódicos...</p></p>
<p>Esta baldosa se convierte en nuestra base de trabajo.&nbsp; Nuestro objetivo al buscar el modelo lineal es <strong>encoger la baldosa</strong>, consiguiendo que la distancia entre la recta y los puntos sea mínima.&nbsp; Si reducimos la distancia, reducimos la suma de cuadrados, y en consecuencia también la baldosa. El área que acabamos de calcular (ECT) se toma como punto de referencia para poder analizar la calidad de los modelos que propongamos.</p></p>
<p>Para comprobar si existen mejoras al cambiar de recta hemos de comparar el error de la recta inicial y el de la recta supuestamente mejor. Es decir, que tenemos la baldosa de la recta original, la baldosa de la nueva recta, y la diferencia entre ambas.&nbsp; Utilizando términos más formales tenemos:</p></p>
<ul>
<li><em>Error cuadrático total</em> (<strong>ECT</strong>): que es la distancia entre la recta Y=0 y el resto de puntos.</li>
<li><em>Error cuadrático residual</em> (<strong>ECR</strong>): Error cuadrático de la nueva recta propuesta.</li>
<li><em>Error cuadrático explicado</em> (o error del modelo - <strong>ECE</strong>): Es la diferencia entre los dos anteriores.</li><br />
</ul></p>
<p>El Error cuadrático de la nueva recta propuesta se denomina Error cuadrático residual (ECR) porque es la parte del ECT que el modelo sigue sin explicar (es decir, que queda como elemento residual del modelo).</p></p>
<p>Esta reducción del error cuadrático medio debe incluir un segundo objetivo, igualmente clave: hay que utilizar el mínimo de causas posibles para explicar el efecto.&nbsp; Hay que analizar el modelo utilizando el menor número de variables para reducir al máximo el error cuadrático.</p></p>
<p>Resumiendo: hay que <strong>reducir cuanto sea posible el error no explicable y utilizar la menor información posible para ello</strong>.</p></p>
<p>Para combinar ambos objetivos se utiliza una medida denominada el <strong>error cuadrático medio</strong> (ECM): El ECM es el area media tienen los cuadrados de los errores.&nbsp; Lo único que hay que hacer (de una forma ingenua, no totalmente correcta) es dividir el ECT entre el número de valores.&nbsp; En el caso anterior, con dos valores, tenemos que <strong>el ECM es 123/10 = 12,3</strong>.</p></p>
<p>&iquest;Qué nos aporta el ECM?&nbsp; Nos indica la superficie media de cada valor recogido en la muestra.&nbsp; Es decir, el ECM es la distancia media que "genera" cada punto respecto a la recta y que aporta a la baldosa (Ya digo, esto es impreciso pero básicamente cierto: mi principal objetivo es simplificar la explicación).</p></p>
<p>El principal valor a&ntilde;adido del ECM tiene lugar cuando se analiza cada una de las variables.&nbsp; Este valor nos ayudará a entender qué variable (una sola o en combinación) aporta más información.&nbsp; Por el contrario, nos indicará qué variables generan más ruido que significado.</p></p>
<p><strong>Cuantas más <em>unidades de ECM</em> reduzca una variable, mejor será para el modelo.&nbsp; Si una variable no explica suficientes unidades ECM, lo mejor es dejarla fuera.</strong></p></p>
<p>Con todos estos criterios empezamos a analizar.&nbsp; Para determinar las variables que mejor explican el modelo, hay tres formas de hacerlo, que tienen todo el sentido común:</p></p>
<ul>
<li>Consideramos que no hay causas fiables e ir introduciendo una variable tras otra para identificar su causabilidad (<em>forward</em>).</li>
<li>Consideramos que todas las variables son causas válidas, y eliminamos las que menos error reducen (<em>backward</em>).</li>
<li>Alternamos la entrada y salida de variables (<em>stepwise</em>).</li><br />
</ul></p>
<h2>El modelo como causa, el error como aleatoriedad</h2></p>
<p>Hasta este punto todo se basa en en criterios estrictos, no hay nada aleatorio.&nbsp; Entonces, &iquest;cómo intervienen los criterios estadísticos en la determinación del mejor modelo? Pues en el <strong>comportamiento del error</strong>.</p></p>
<p>A priori los modelos lineales básicos consideran que las distancias entre los puntos y la recta tienen un comportamiento aleatorio.&nbsp; Este comportamiento se considera que equivale al de una distribución normal.</p></p>
<p>El por qué de esta conclusión es fácil de responder pero de demostración tediosa y algo polémica: la distribución normal puede entenderse como el fruto de la acumulación de variables aleatorias de cualquier tipo.&nbsp; Es así como lo explica el <a title="Wikipedia: Teorema Central del Límite" href="http://es.wikipedia.org/wiki/Teorema_del_l%C3%ADmite_central">Teorema Central del Límite</a>.&nbsp; Es decir, que la normalidad puede obtenerse como resultado de infinidad de peque&ntilde;as causas combinadas.</p></p>
<p>Suponer un comportamiento de los errores como una distribución normal es el punto polémico, porque no siempre es asumible, y por eso se acostumbra a analizar este error para saber si podemos aplicar todo este proceso.</p></p>
<p>Se puede decir que el error de los modelos lineales no se trata como algo incontrolable o desconocido, sino como algo aleatorio y modelizable cuyas causas no determinan lo suficiente un modelo como para ser tenido en cuenta.</p></p>
<p>Si consideramos que las distancias se ajustan a una distribución normal, y que estamos calculando el cuadrado de esta distancia (por lo tanto una "variancia") que denominamos error; si hacemos esto podemos concluir que la distribución de esta variancia se ajusta a la distribución <a title="Wikipedia: Ji cuadrado" href="http://es.wikipedia.org/wiki/Distribuci%C3%B3n_ji-cuadrado">X<sup>2</sup></a> (Chi-cuadrado o Khi cuadrado).&nbsp; El por qué de esta relación, y el concepto de los grados de libertad queda por ahora al margen de la explicación.</p></p>
<p>El último paso es comparar los errores de dos rectas.&nbsp; Si teníamos la recta de Y=0, y la recta Y = a&middot;X, podemos comparar sus errores dividiendo sus respectivos errores cuadráticos.&nbsp; <strong>Dividir permite ver el grado de cambio entre las dos opciones</strong>.</p></p>
<p>Ante esta división y su resultado, nos podemos preguntar si el cambio es significativo o no.&nbsp; Estadísticamente la respuesta pasa por dividir las dos magnitudes (una para cada recta propuesta), que se ajustan a un modelo Chi-quadrado.&nbsp; Esta división genera otro valor, conocida como F de Fischer.</p></p>
<p>Atención, porque lo que estamos dividiendo son dos valores concretos: dos sumas de cuadrados que dan cada una una cifra concreta.&nbsp; Lo que sucede es que se demuestra que estos valores se ajustan a un modelo determinado, y que su resultado también tiene un comportamiento conocido. <strong>Estos puntos forman parte de una variable aleatoria</strong>.</p></p>
<p>La <a title="Wikipedia: Distribución F de Snedecor" href="http://es.wikipedia.org/wiki/Distribuci%C3%B3n_F">distribución F de Fischer-Snedecor</a> tiene dos valores de grados de libertad, correspondientes a cada una de las distribuciones X<sup>2</sup> que intervienen en la división.</p></p>
<p>El proceso final, el del contraste de hipótesis, es algo en lo que quizá profundizaré más adelante.&nbsp; Pero en cualquier caso, una idea debe quedar clara: al analizar el valor F de comparación entre las dos rectas, el resultado significativo nos indica que hay razones suficientes como para tomar la nueva recta como un modelo mejor, porque aporta suficiente información en contrapartida de a&ntilde;adir una variable más al modelo.</p></p>
